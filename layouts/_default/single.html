{{ define "header" }}
  <header>
    {{ partial "nav.html" . }}
    <div class="post-hero">
      <p class="post-meta">
        <span>{{ partial "icons/calendar.html" . }} {{ .Date.Format "2006 年 1 月 2 日" }}</span>
        <span>{{ partial "icons/clock.html" . }} 阅读约 {{ .ReadingTime }} 分钟</span>
        {{ with .Params.tags }}
          <span>{{ partial "icons/tags.html" $ }} {{ delimit . " / " }}</span>
        {{ end }}
      </p>
      <h1>{{ .Title }}</h1>
      {{ with .Params.summary }}
        <p>{{ . }}</p>
      {{ else }}
        {{ with .Params.description }}<p>{{ . }}</p>{{ end }}
      {{ end }}
    </div>
  </header>
{{ end }}

{{ define "main" }}
  <article class="content-wrapper">
    <section>
      {{ .Content }}
    </section>
  </article>

  {{ with .Site.Params.giscus }}
    {{ if and .enabled .repoId .categoryId }}
    <div class="giscus-wrapper">
      <script src="https://giscus.app/client.js"
        data-repo="{{ .repo }}"
        data-repo-id="{{ .repoId }}"
        data-category="{{ .category }}"
        data-category-id="{{ .categoryId }}"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>
      </script>
    </div>
    {{ end }}
  {{ end }}
{{ end }}
